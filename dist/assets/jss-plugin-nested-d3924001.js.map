{"version":3,"file":"jss-plugin-nested-d3924001.js","sources":["../../node_modules/jss-plugin-nested/dist/jss-plugin-nested.esm.js","../../node_modules/jss-plugin-nested/dist/jss-plugin-nested.esm.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport warning from 'tiny-warning';\n\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n\n      if (rule) {\n        return rule.selector;\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \\\"\" + key + \"\\\" in \\\"\" + (container.options.meta || container.toString()) + \"\\\".\") : void 0;\n      return key;\n    };\n  }\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, prevOptions) {\n    // Options has been already created, now we only increase index.\n    if (prevOptions) return _extends({}, prevOptions, {\n      index: prevOptions.index + 1\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    var options = _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1 // We don't need the parent name to be set options for chlid.\n\n    });\n\n    delete options.name;\n    return options;\n  }\n\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp, replaceRef);\n        var name = styleRule.key + \"-\" + prop;\n\n        if ('replaceRule' in container) {\n          // for backward compatibility\n          container.replaceRule(name, style[prop], _extends({}, options, {\n            selector: selector\n          }));\n        } else {\n          container.addRule(name, style[prop], _extends({}, options, {\n            selector: selector\n          }));\n        }\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options).addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\n\nexport default jssNested;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport warning from 'tiny-warning';\n\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n\n      if (rule) {\n        return rule.selector;\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \\\"\" + key + \"\\\" in \\\"\" + (container.options.meta || container.toString()) + \"\\\".\") : void 0;\n      return key;\n    };\n  }\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, prevOptions) {\n    // Options has been already created, now we only increase index.\n    if (prevOptions) return _extends({}, prevOptions, {\n      index: prevOptions.index + 1\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    var options = _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1 // We don't need the parent name to be set options for chlid.\n\n    });\n\n    delete options.name;\n    return options;\n  }\n\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp, replaceRef);\n        var name = styleRule.key + \"-\" + prop;\n\n        if ('replaceRule' in container) {\n          // for backward compatibility\n          container.replaceRule(name, style[prop], _extends({}, options, {\n            selector: selector\n          }));\n        } else {\n          container.addRule(name, style[prop], _extends({}, options, {\n            selector: selector\n          }));\n        }\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options).addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\n\nexport default jssNested;\n"],"names":["separatorRegExp","parentRegExp","refRegExp","jssNested","getReplaceRef","container","sheet","match","key","rule","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","result","i","parent","j","nested","getOptions","prevOptions","_extends","nestingLevel","options","onProcessStyle","style","styleRule","replaceRef","prop","isNested","isNestedConditional","selector","name"],"mappings":"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","x_google_ignoreList":[0,1]}